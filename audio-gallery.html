<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ú‡¶ø‡¶ï‡¶æ‡¶≤ ‡¶á‡¶Æ‡ßã‡¶ú‡¶ø ‡¶ú‡ßÅ‡¶ï‡¶¨‡¶ï‡ßç‡¶∏ | ‡ßß‡ß®‡¶®‡¶Ç ‡¶ï‡¶æ‡¶≤‡¶æ‡¶á‡¶Ø‡¶º‡¶æ ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∏‡¶™‡ßç‡¶∞‡¶æ‡¶¨‡¶ø</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;700&family=Atma:wght@600;700&display=swap');
        
        :root {
            --bg-violet: #2e0249;
        }

        body {
            background: linear-gradient(135deg, #2e0249 0%, #570a57 50%, #a91079 100%);
            background-attachment: fixed;
            font-family: 'Hind Siliguri', sans-serif;
            min-height: 100vh;
            color: white;
            transition: background 1.5s ease;
            overflow-x: hidden;
            position: relative;
        }

        .kids-font { font-family: 'Atma', cursive; }

        /* --- ‡¶ú‡¶æ‡¶¶‡ßÅ‡¶ï‡¶∞‡ßÄ ‡¶á‡¶Æ‡ßã‡¶ú‡¶ø ‡¶¨‡¶æ‡¶¨‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ --- */
        .bubbles-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        .bubble {
            position: absolute;
            bottom: -100px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.3);
            animation: rise 10s infinite ease-in;
        }
        @keyframes rise {
            0% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-1200px) rotate(360deg) scale(1.5); opacity: 0; }
        }

        /* --- ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶´‡ßá‡¶∏ --- */
        .player-card {
            background: rgba(0, 0, 0, 0.45);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 50px;
            padding: 35px;
            margin-top: 20px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.6);
            text-align: center;
        }

        .highlight-text {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(169, 16, 121, 0.5);
            font-weight: 700;
        }

        /* --- 4+ Tabs Scrolling Style --- */
        .premium-tabs {
            display: flex; 
            overflow-x: auto; /* ‡¶¨‡ßá‡¶∂‡¶ø ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá */
            gap: 12px; 
            margin: 25px 0;
            padding-bottom: 10px;
            scrollbar-width: none; /* ‡¶´‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞‡¶´‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤‡¶¨‡¶æ‡¶∞ ‡¶π‡¶æ‡¶á‡¶° */
        }
        .premium-tabs::-webkit-scrollbar { display: none; /* ‡¶ï‡ßç‡¶∞‡ßã‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤‡¶¨‡¶æ‡¶∞ ‡¶π‡¶æ‡¶á‡¶° */ }
        
        .tab-btn {
            white-space: nowrap; /* ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶≠‡ßá‡¶ô‡ßá ‡¶®‡¶ø‡¶ö‡ßá ‡¶®‡¶æ‡¶Æ‡¶¨‡ßá ‡¶®‡¶æ */
            padding: 10px 25px; border-radius: 50px; border: none;
            background: rgba(255,255,255,0.1); color: white;
            font-weight: bold; transition: 0.4s;
            backdrop-filter: blur(5px);
        }
        .tab-btn.active {
            background: white; color: var(--bg-violet);
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.6);
        }
        
        /* --- 2 Column Grid Style for Songs --- */
        .song-list-scroll {
            max-height: 400px; 
            overflow-y: auto; 
            padding: 5px;
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡ß® ‡¶ï‡¶≤‡¶æ‡¶Æ ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã */
            gap: 15px; /* ‡¶ï‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá‡¶∞ ‡¶´‡¶æ‡¶Å‡¶ï‡¶æ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ */
        }
        
        /* ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® ‡¶õ‡ßã‡¶ü ‡¶π‡¶≤‡ßá ‡ßß ‡¶ï‡¶≤‡¶æ‡¶Æ ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá */
        @media (max-width: 768px) {
            .song-list-scroll {
                grid-template-columns: 1fr;
            }
        }
        
        .song-card {
            background: rgba(255, 255, 255, 0.07);
            border-radius: 20px; padding: 15px; 
            display: flex; align-items: center; cursor: pointer;
            transition: 0.3s; border: 1px solid rgba(255,255,255,0.05);
            margin-bottom: 0 !important; /* ‡¶ó‡ßç‡¶∞‡¶ø‡¶°‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ú‡¶ø‡¶® ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ */
        } 
        .song-card:hover { 
            background: rgba(255, 255, 255, 0.15); 
            transform: translateY(-8px); /* ‡¶ì‡¶™‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶â‡¶†‡¶¨‡ßá */
        }
        .song-card.active {
            background: linear-gradient(90deg, #ff00cc, #3333ff);
            border: 2px solid white;
            box-shadow: 0 0 20px rgba(255, 0, 204, 0.4);
        }

        .play-btn-main {
            width: 85px; height: 85px; background: white; color: var(--bg-violet);
            border-radius: 50%; border: none; font-size: 2.5rem;
            box-shadow: 0 0 35px rgba(255,255,255,0.4);
            transition: 0.3s;
        }
        .play-btn-main:hover { transform: scale(1.1); }

        .progress-custom {
            height: 12px; background: rgba(255,255,255,0.15); border-radius: 10px;
            margin: 25px 0; cursor: pointer; position: relative;
        }
        .progress-fill {
            height: 100%; background: linear-gradient(90deg, #00dbde, #fc00ff);
            width: 0%; border-radius: 10px; transition: 0.1s;
        }
    </style>
</head>
<body>

<div class="bubbles-container" id="bubbleContainer"></div>

<div class="container py-4">
    <div class="text-center mb-4">
        <h1 class="kids-font highlight-text display-4">‚ú® ‡¶ú‡¶æ‡¶¶‡ßÅ‡¶ï‡¶∞‡ßÄ ‡¶ó‡¶æ‡¶®‡ßá‡¶∞ ‡¶Æ‡ßá‡¶≤‡¶æ</h1>
        <p class="opacity-75 fs-5">‡ßß‡ß®‡¶®‡¶Ç ‡¶ï‡¶æ‡¶≤‡¶æ‡¶á‡¶Ø‡¶º‡¶æ ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∏‡¶™‡ßç‡¶∞‡¶æ‡¶¨‡¶ø</p>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-6 col-md-10">
            <div class="player-card">
                <i class="fas fa-music fa-spin" style="color: #00dbde"></i>
                <h2 class="kids-font highlight-text" id="nowPlayingTitle">‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶°‡¶º‡¶æ ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶æ‡¶ì</h2>
                <p id="nowPlayingCat" class="text-info fw-bold fs-5">‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ‡¶õ‡ßã‡¶ü ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞‡¶æ!</p>

                <div class="progress-custom" onclick="seek(event)">
                    <div class="progress-fill" id="progBar"></div>
                </div>

                <div class="d-flex justify-content-center align-items-center gap-4">
                    <button class="btn btn-outline-light rounded-circle p-3" onclick="prevSong()"><i class="fas fa-step-backward"></i></button>
                    <button class="play-btn-main" id="masterPlay" onclick="togglePlay()"><i class="fas fa-play"></i></button>
                    <button class="btn btn-outline-light rounded-circle p-3" onclick="nextSong()"><i class="fas fa-step-forward"></i></button>
                </div>
            </div>
            <div class="premium-tabs">
                <button class="tab-btn active" onclick="changeTab('Rhymes', this)">üé¨ ‡¶õ‡¶°‡¶º‡¶æ ‡¶ì ‡¶ï‡¶¨‡¶ø‡¶§‡¶æ</button>
                <button class="tab-btn" onclick="changeTab('‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï', this)">üáßüá© ‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï</button>
                <button class="tab-btn" onclick="changeTab('‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø', this)">üå∏ ‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø</button>
                <button class="tab-btn" onclick="changeTab('‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º ‡¶¶‡¶ø‡¶¨‡¶∏', this)">‚úåÔ∏è ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º ‡¶¶‡¶ø‡¶¨‡¶∏</button>
            </div>
            
            <div class="song-list-scroll" id="songList">
            </div>
        </div>
    </div>
</div>

<audio id="mainAudio" ontimeupdate="updateProgress()" onended="nextSong()"></audio>

<script>
    const audio = document.getElementById('mainAudio');
    const songListDiv = document.getElementById('songList');

    const allSongs = [
        // ‡¶õ‡ßú‡¶æ ‡¶ì ‡¶ï‡¶¨‡¶ø‡¶§‡¶æ
        { title: "‡¶ê ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶§‡¶æ‡¶≤‡¶ó‡¶æ‡¶õ", file: "audio/rhyme1.mp3", cat: "Rhymes", icon: "fa-tree" },
        { title: "‡¶Ü‡¶§‡¶æ ‡¶ó‡¶æ‡¶õ‡ßá ‡¶§‡ßã‡¶§‡¶æ ‡¶™‡¶æ‡¶ñ‡¶ø", file: 'audio/rhyme2.mp3', cat: "Rhymes", icon: "fa-crow" },
        { title: "‡¶ê ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶§‡¶æ‡¶≤‡¶ó‡¶æ‡¶õ‡ßá ‡ß®", file: "audio/talgach2.mp3", cat: "Rhymes", icon: "fa-tree" },
        
        // ‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï
        { title: "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡ßã‡¶®‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶∏‡¶Ç‡¶ó‡ßÄ‡¶§)", file: "https://www.dropbox.com/scl/fi/vawpwe9xs70cs37ow2356/Amar-sonar-bangla.mp3?rlkey=q3gszt18eahjti5jom1p6ivl3&st=zoqf17ig&dl=0", cat: "‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï", icon: "fa-flag-bd" },
        { title: "‡¶Ü‡¶Æ‡¶ø ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∞ ‡¶ó‡¶æ‡¶® ‡¶ó‡¶æ‡¶á", file: "https://www.dropbox.com/scl/fi/s4eg9uy4rfptot5uuhd43/Ami-Banglar-Gan-Gai.mp3?rlkey=ft572jhkr43eoip2qqw5hq6i8&st=9ftnq9i9&dl=0", cat: "‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï", icon: "fa-heart" },
        { title: "‡¶ì ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Æ‡¶æ ‡¶§‡ßã‡¶∞", file: "https://www.dropbox.com/scl/fi/ozhssfk012ok5tk056gy3/Utpal-M-O-Amar-Bangla-Ma-Tor.mp3?rlkey=1dbf87ug6a8i48e0bl51szm11&st=g88jch3s&dl=0", cat: "‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï", icon: "fa-heart" },
        { title: "‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶∏‡¶Ç‡¶ó‡ßÄ‡¶§ (‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶ï)", file: "https://www.dropbox.com/scl/fi/4o8hw8kkkkwzuusqs1dzt/Amar-Shonar-Bangla-instu-mntal.mp3?rlkey=aqgwwmy4899wzwibkegujfu2t&st=oa84c7df&dl=0", cat: "‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï", icon: "fa-heart" },
        { title: "‡¶Ü", file: "https:", cat: "‡¶¶‡ßá‡¶∂‡¶æ‡¶§‡ßç‡¶Æ‡¶¨‡ßã‡¶ß‡¶ï", icon: "fa-heart" },
        
        // ‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø
        { title: "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶∞‡¶ï‡ßç‡¶§‡ßá ‡¶∞‡¶æ‡¶ô‡¶æ‡¶®‡ßã", file: "https://drive.google.com/file/d/19NpUB-zm-ddMcfRFQmt75_OIcrBokWXn/view?usp=sharing", cat: "‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø", icon: "fa-flower-tulip" },
        { title: "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶á‡¶Ø‡¶º‡ßá‡¶∞ ‡¶∞‡¶ï‡ßç‡¶§‡ßá ‡¶∞‡¶æ‡¶ô‡¶æ‡¶®‡ßã", file: "audio/21 February - Noble.mp3", cat: "‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø", icon: "fa-flower-tulip" },
        { title: "‡¶Æ‡ßã‡¶¶‡ßá‡¶∞ ‡¶ó‡¶∞‡¶¨ ‡¶Æ‡ßã‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶∂‡¶æ", file: "https://www.dropbox.com/scl/fi/cfz8bs0xpj19oqy45doqm/Moder-Gorob-Moder-Asha-female.mp3?rlkey=vd5nwbqqwzfpvddcbulye6ekk&st=5jvak7cr&dl=0", cat: "‡ß®‡ßß‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø", icon: "fa-alphabet-bangla" },
        
        // ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º ‡¶¶‡¶ø‡¶¨‡¶∏
        
        { title: "‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º ‡¶®‡¶ø‡¶∂‡¶æ‡¶® ‡¶â‡¶°‡¶º‡¶õ‡ßá ‡¶ì‡¶á", file: "bijoy.mp3", cat: "‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º ‡¶¶‡¶ø‡¶¨‡¶∏", icon: "fa-flag" }
    ];

    let currentIdx = -1;
    let activeTab = 'Rhymes';

    // ‡ßß. ‡¶Ö‡¶ü‡ßã ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶ö‡ßá‡¶û‡ßç‡¶ú‡¶æ‡¶∞ (Hue Rotation)
    let hue = 270; 
    setInterval(() => {
        hue = (hue + 12) % 360;
        document.body.style.background = `linear-gradient(135deg, hsl(${hue}, 80%, 15%) 0%, hsl(${(hue+40)%360}, 80%, 25%) 100%)`;
    }, 1500);

    // ‡ß®. ‡¶á‡¶Æ‡ßã‡¶ú‡¶ø ‡¶¨‡¶æ‡¶¨‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶°)
    function createBubbles() {
        const container = document.getElementById('bubbleContainer');
        const emojis = ['üé∂', '‚≠ê', '‚ú®', 'üéà', 'üé∏', 'üåà', 'üîî'];
        
        //‡ß©. ‡¶¨‡¶æ‡¶¨‡¶≤‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡ß©‡ß¶‡¶ü‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã
        for(let i=0; i<30; i++) {
            let b = document.createElement('div');
            b.className = 'bubble';
            
            //‡ß™. ‡¶∞‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶Æ ‡¶∏‡¶æ‡¶á‡¶ú ‡¶è‡¶¨‡¶Ç ‡¶á‡¶Æ‡ßã‡¶ú‡¶ø
            let size = Math.random() * 60 + 25 + 'px';
            let randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
            
            b.style.width = size; 
            b.style.height = size;
            b.innerHTML = randomEmoji;
            b.style.left = Math.random() * 100 + '%';
            b.style.animationDelay = Math.random() * 10 + 's';
            b.style.animationDuration = Math.random() * 5 + 8 + 's'; // ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶æ‡¶¨‡¶≤ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§, ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ß‡ßÄ‡¶∞‡ßá
            
            container.appendChild(b);
        }
    }

    // ‡ß´. ‡¶ó‡¶æ‡¶® ‡¶ì ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
    function getDirectLink(url) {
        if (url.includes('dropbox.com')) return url.replace('dl=0', 'raw=1');
        return url.startsWith('http') ? url : 'audio/' + url;
    }

    // ‡ß¨. ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶ö‡ßá‡¶û‡ßç‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶° ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function changeTab(tabName, btnElement) {
        activeTab = tabName;
        
        //‡ß≠. ‡¶∏‡¶¨ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶•‡ßá‡¶ï‡ßá active ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßã
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        
        //‡ßÆ. ‡¶Ø‡ßá‡¶ü‡¶ø‡¶§‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶∏‡ßá‡¶ü‡¶ø‡¶§‡ßá active ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßã
        btnElement.classList.add('active');
        
        //‡ßØ. ‡¶ó‡¶æ‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã
        renderSongs();
    }
    
    function renderSongs() {
        songListDiv.innerHTML = '';
        const filtered = allSongs.filter(s => s.cat === activeTab);
        filtered.forEach(song => {
            const idx = allSongs.indexOf(song);
            const card = document.createElement('div');
            card.className = `song-card ${currentIdx === idx ? 'active' : ''}`;
            card.onclick = () => playSong(idx);
            card.innerHTML = `
                <div class="fs-3 me-3"><i class="fas ${song.icon}"></i></div>
                <div class="flex-grow-1">
                    <div class="fw-bold fs-5 highlight-text">${song.title}</div>
                    <small class="opacity-75">${song.cat === 'Others' ? song.sub : '‡¶õ‡ßã‡¶ü‡¶¶‡ßá‡¶∞ ‡¶õ‡¶°‡¶º‡¶æ ‡¶ì ‡¶ï‡¶¨‡¶ø‡¶§‡¶æ'}</small>
                </div>
                <i class="fas fa-play-circle fs-4 opacity-50"></i>
            `;
            songListDiv.appendChild(card);
        });
    }

    function playSong(idx) {
        currentIdx = idx;
        const song = allSongs[idx];
        audio.src = getDirectLink(song.file);
        audio.play().then(() => updateUI(true)).catch(e => console.log("Audio Error"));
        
        document.getElementById('nowPlayingTitle').innerText = song.title;
        document.getElementById('nowPlayingCat').innerText = song.cat === 'Others' ? song.sub : '‡¶õ‡¶°‡¶º‡¶æ ‡¶ì ‡¶ï‡¶¨‡¶ø‡¶§‡¶æ';
        renderSongs();
    }

    function togglePlay() {
        if(currentIdx === -1) { playSong(0); return; }
        audio.paused ? audio.play() : audio.pause();
        updateUI(!audio.paused);
    }

    function updateUI(playing) {
        document.getElementById('masterPlay').innerHTML = playing ? '<i class="fas fa-pause"></i>' : '<i class="fas fa-play"></i>';
    }

    function updateProgress() {
        if(audio.duration) {
            document.getElementById('progBar').style.width = (audio.currentTime / audio.duration) * 100 + '%';
        }
    }

    function seek(e) {
        audio.currentTime = (e.offsetX / e.currentTarget.offsetWidth) * audio.duration;
    }

    function nextSong() { playSong((currentIdx + 1) % allSongs.length); }
    function prevSong() { playSong((currentIdx - 1 + allSongs.length) % allSongs.length); }

    // ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶¨‡¶æ‡¶¨‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶ó‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ì
    createBubbles();
    renderSongs();
</script>

</body>
</html>
